<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/base_layout}">
	
	

<div layout:fragment="content">

	<div class="row">
	
	
		<div class="col-12">
			<div class="row">
				<div class="col-12">
					<h6>교실 등록</h6>
				</div>
				<div class="col-12 mb-3">
					<form class="row g-3" th:action="@{/admin/regLessonRoom}" method="post">
                  <div class="col-10">
                     <input type="text" name="roomName" class="form-control" id="" placeholder="Username">
                  </div>
                    <div class="col-2">
                     <button type="submit" class="btn btn-primary">검색</button>
                     
                    </div>
                    	<div class="row justify-content-" style="margin: 1rem">
						  <div class="col-2"  style="margin-right:4.4rem;">
                       		 <button type="button" id="updateLessonRoomModal" class="btn btn-info fal fa-save"  th:onclick="goRegLessonRoom();">신규</button>
                  		  </div>
                  		</div> 
              	 </form>
				</div>
				<div class="col-11">
					<table class="table table-striped table-hover text-center">
                 <thead>
                   <tr>
                   <td>
                     <input id="checkAll" type="checkbox" class="form-check-input" >
                  </td>
                     <th scope="col">No</th>
                     <th scope="col">교실명</th>
                     <th scope="col">정 원</th>
                     <th scope="col">사용 여부</th>
                   </tr>
                 </thead>
                 <tbody>
                  <th:block th:if="${#lists.size(selectLessonRoom) == 0}">
                 	<tr> 
                 		<td colspan="5">등록된 교실이 없습니다.</td>
                 	</tr>
                </th:block>
                 

                    <th:block th:unless="${#lists.size(selectLessonRoom) == 0}">
                  
                    <tr th:each="LessonRoom, status : ${selectLessonRoom}">
                   		<td>
                     <input th:value="${LessonRoom.lessonRoomCode}"  type="checkbox" class="form-check-input chk" >
                  		</td>
                   		<td th:text="${status.count}"></td> 
                   		<td th:text="${LessonRoom.roomName}" ></td> 
                   		<td th:text="${LessonRoom.lessonRoomMaxStudent}"></td> 
                   		<td th:text="${LessonRoom.isUse}"></td> 
                   </tr>
             
                 </th:block>     
                 </tbody>
               </table>
				</div>
			</div>
		  </div>
		   	<form th:action="@{/admin/deleteLessonRoom}" method="post" id="deleteLessonRoomForm">  <!-- 폼태그 안에 input가 있어야 데이터를 가져간다.  -->
             <input type="hidden" name="lessonRoomCodes"  value="">  <!-- submit누르면 데이터 안보이게 데이터 가져갈꺼다.  내가 체크한 체크박스들을 이 input태그의 value값을   -->
               <div class="row justify-content-end">
                  <div class="col-2"  style="margin-right:4.4rem;">
                        <button th:onclick="lessonRoomDeleteAjax();" type="button" class="btn btn-warning form-control-start" >삭제</button>
                  </div>
               </div>
              </form> 

            </div>
            

<!------------------------------------------------------------------------------------------------------------------------------------------------------------->            
            
            
          <!-- 교실 신규 버튼 누르면 실행되는 Modal -->
			<!-- Modal -->
			<div class="modal fade" id="bb" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			  	  <!-- 모달 제목글 header -->

	    	      <div class="modal-header"> 
			        <h5 class="modal-title" id="exampleModalLabel"> 교실 정보 </h5>
			        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			      </div>
				   <!-- 모달 내용글 body -->
				   
				<form action="/admin/regLessonRoom" method="post">
			      <div class="modal-body">
			      	<div class="row mb-3">
			      		<div class="col-10">
			      			<label for="roomName" class="form-label">교실명</label>
			      				<input  type="text" class="form-control" id="roomName" name="roomName">
			      			
			      		</div>
			      		<div class="col-10">
			      			<label for="lessonRoomMaxStudent" class="form-label">정 원</label>
			      				<input  type="text" class="form-control" id="lessonRoomMaxStudent" name="lessonRoomMaxStudent">
			      		</div>
				      		<div class="col-8">
				      			<label for="isUse" class="form-label">교실사용여부</label>
					      			<select name="isUse" class="form-select" >
					      				<option  id="isUse" value="Y">Y</option>
					      				<option  id="isUse" value="N">N</option>
					      			</select>
			      		</div>
			      	</div>
			      	<div class="row">
			      		<div class="col text-end">
			      		
			      			<button type="submit" id="updateAmountBtn" class="btn btn-primary btn-sm" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: 3rem; --bs-btn-font-size: 1rem;">저장</button>
			      			<button type="button" id="cancelBtn" data-origin-amount=""  th:onclick="rollbackAmount();"  class="btn btn-secondary btn-sm" data-bs-dismiss="modal" aria-label="Close" style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: 3rem; --bs-btn-font-size: 1rem;">닫기</button>
			      		
			      		</div>
			      	</div>
			      </div>
			     </form>
			    </div>
			  </div>
			</div>

<!------------------------------------------------------------------------------------------------------------------------------------------------------------->

          <script src="https://code.jquery.com/jquery-latest.min.js"></script>   
		<script type="text/javascript" th:src="@{/js/admin/lesson_room.js}"></script>
		
	</div>
</html>